# 比较框架


## 简介

Polygraphy 的核心功能之一是跨多个不同后端比较模型输出。这使得检查一个后端相对于另一个后端的准确性成为可能。

在此示例中，我们将了解如何使用 Polygraphy API，使用 ONNX-Runtime 和 TensorRT 以综合输入数据运行推理，然后使用两种不同的比较方法比较结果：

1.  使用绝对容差的简单比较
2.  使用距离度量（L2 距离、余弦相似度和 PSNR）的更全面的比较


## 运行示例

1.  安装先决条件
    *   确保已安装 TensorRT
    *   使用 `python3 -m pip install -r requirements.txt` 安装其他依赖项

2.  运行示例
    ```bash
    python3 example.py
    ```

3.  **[可选]** 检查示例的推理输出：

    ```bash
    polygraphy inspect data inference_results.json
    ```

## 比较方法

该示例演示了两种比较输出的方法：

- **简单比较**：使用绝对容差来确定输出是否在指定阈值内匹配。
- **距离度量**：使用多种度量进行更全面的比较，包括：
  - L2 距离（欧几里得距离）
  - 余弦相似度（测量向量之间的夹角）
  - PSNR（峰值信噪比，用于比较类图像数据）

这些比较方法有助于验证框架在可接受的范围内产生等效结果。
