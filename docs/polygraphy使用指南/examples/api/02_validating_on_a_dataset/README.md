# 在真实数据集上验证准确性


## 简介

Polygraphy 提供的 `Comparator` 对于在多个运行器之间比较少量结果很有用，但它不太适合使用包含标签或黄金值的真实数据集来验证单个运行器 - 特别是当数据集很大时。

在这种情况下，建议直接使用运行器。

*注意：可以使用 `data_loader` 参数为 `Comparator.run()` 提供自定义输入数据。*
    *这在使用较小数据集时可能是一个可行的选择。*

在这个示例中，我们直接使用 `TrtRunner` 在一个简单数据集上验证恒等模型。与使用 `Comparator` 不同，使用运行器可以让您完全自由地控制如何加载输入数据，以及如何验证结果。

由于所有运行器都提供相同的接口，您可以自由地替换其他运行器，而无需修改其余的验证代码。例如，在这个案例中，使用 ONNX-Runtime 验证模型只需要更改 2 行代码；这留给读者作为练习。


## 运行示例

1. 安装先决条件
    * 确保安装了 TensorRT
    * 使用 `python3 -m pip install -r requirements.txt` 安装其他依赖项

2. 运行示例
    ```bash
    python3 example.py
    ```